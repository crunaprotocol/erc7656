# ERC-7656

This is a reference implementation for the [ERC-7656](https://eips.ethereum.org/EIPS/eip-7656) standard. Most of the code is mutuated from [ERC-6551 reference implementation](https://github.com/erc6551/reference).

The following bytecode:

```
0x608060405234801561001057600080fd5b50610321806100206000396000f3fe608060405234801561001057600080fd5b50600436106100415760003560e01c806301ffc9a7146100465780632ae81fb11461006e578063b4cb3cbb14610099575b600080fd5b610059610054366004610230565b6100ac565b60405190151581526020015b60405180910390f35b61008161007c36600461027d565b6100e3565b6040516001600160a01b039091168152602001610065565b6100816100a736600461027d565b610152565b60006001600160e01b03198216634f11918560e11b14806100dd57506001600160e01b031982166301ffc9a760e01b145b92915050565b600060406024608c376e5af43d82803e903d91602b57fd5bf3606c5286605d52733d60ad80600a3d3981f3363d3d373d3d3d363d7360495282841760cc528160ec5260ff60005360b76055206035523060601b6001528560155260556000208060601b60601c60005260206000f35b60006001600160a01b03198481160161016a57600091505b60406024608c376e5af43d82803e903d91602b57fd5bf3606c5286605d52733d60ad80600a3d3981f3363d3d373d3d3d363d7360495282841760cc528160ec5260ff60005360b76055206035523060601b600152856015526055600020803b610220578660b760556000f5806101e85763d786d3936000526004601cfd5b80606c52508460cc528284897f5d6f1b27222bf34d576ad575c1c8749e981db502da9cd2e96e6e5258938099056080606ca46020606cf35b8060601b60601c60005260206000f35b60006020828403121561024257600080fd5b81356001600160e01b03198116811461025a57600080fd5b9392505050565b80356001600160a01b038116811461027857600080fd5b919050565b60008060008060008060c0878903121561029657600080fd5b61029f87610261565b9550602087013594506040870135935060608701356001600160a01b0319811681146102ca57600080fd5b92506102d860808801610261565b915060a08701359050929550929550929556fea26469706673582212201c633bdca5bf1144089307478f558864b6ef7d40973ee00e2587452c6b9da48f64736f6c63430008160033
```

will be deployed asap to erc7656.eth, i.e.:

```
0x7656aF04f918863bef53D6ADf31dCB0E87A01896
```

via Nick's Factory using the following salt:

```
0x7656000000000000000000000000000000000000000000000000000000009872
```

on primary mainnets and same selected testnets.

Look at `contracts/bytecode.json` for the details.

## Usage

Install it as a dependency
```
npm i erc7656 @openzeppelin/contracts
```

To make your service extend `erc7656/ERC7656Service.sol` or `erc7656/extensions/ERC7656ServiceExt.sol`.

Look at `BadgeCollector.sol` for a simple example.

---

Notice that anyone can deploy a service owned by a specific contract or token, using whatever salt they prefer. To avoid troubles and security issues, any initial setup must be designed so that, despite who is the deployer, the result is what is expected to be. For example, if a service must get some information from a token, it should be the service the one that queries the token, not the other way around. In other words, passing any parameter to the service during the deploying opens to the possibility of a malicious deployer to pass a different set of data causing the service to behave unexpectedly. 

## Note about the tests

This repo has 100% test coverage.

## License

MIT

Copyright (C) 2023+ Cruna
